<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<AnchorPane
        xmlns="http://javafx.com/javafx/25"
        xmlns:fx="http://javafx.com/fxml/1"
        fx:controller="main.java.BudgetController"
        style="-fx-background-color: #02213A;">

    <children>
        <VBox spacing="16"
              AnchorPane.topAnchor="20"
              AnchorPane.bottomAnchor="20"
              AnchorPane.leftAnchor="20"
              AnchorPane.rightAnchor="20">

            <!-- Titel -->
            <Label text="Budget" textFill="WHITE">
                <font>
                    <Font name="Calibri Bold" size="36"/>
                </font>
            </Label>

            <!-- Periode -->
            <VBox spacing="6" style="-fx-background-color: #f2f2f7; -fx-background-radius: 16;">
                <padding>
                    <Insets top="14" right="14" bottom="14" left="14"/>
                </padding>

                <Label text="Vælg periode">
                    <font>
                        <Font name="Calibri Bold" size="14"/>
                    </font>
                </Label>

                <ComboBox fx:id="periodCombo" prefWidth="240"
                          style="-fx-background-color: #F49338;"/>

                <HBox spacing="10">
                    <Label text="Periode:"/>
                    <Label fx:id="periodDatesLabel" text="-"/>
                    <Region HBox.hgrow="ALWAYS"/>
                    <Label text="Dage:"/>
                    <Label fx:id="daysLabel" text="-"/>
                </HBox>
            </VBox>

            <!-- Indtast budget -->
            <VBox spacing="10" style="-fx-background-color: #f2f2f7; -fx-background-radius: 16;">
                <padding>
                    <Insets top="14" right="14" bottom="14" left="14"/>
                </padding>

                <Label text="Indtast budget">
                    <font>
                        <Font name="Calibri Bold" size="14"/>
                    </font>
                </Label>

                <HBox spacing="10">
                    <VBox spacing="4">
                        <Label text="Budget/indtægt for perioden (kr.)"/>
                        <TextField fx:id="incomeField" promptText="fx 8000"/>
                    </VBox>

                    <VBox spacing="4">
                        <Label text="Opsparing (kr.)"/>
                        <TextField fx:id="savingsField" promptText="fx 500"/>
                    </VBox>
                </HBox>
            </VBox>

            <!-- Faste udgifter -->
            <VBox spacing="10" style="-fx-background-color: #f2f2f7; -fx-background-radius: 16;">
                <padding>
                    <Insets top="14" right="14" bottom="14" left="14"/>
                </padding>

                <Label text="Faste udgifter">
                    <font>
                        <Font name="Calibri Bold" size="14"/>
                    </font>
                </Label>

                <HBox spacing="10">
                    <TextField fx:id="expenseNameField"
                               prefWidth="220"
                               promptText="Navn (fx Husleje)"/>
                    <TextField fx:id="expenseAmountField"
                               prefWidth="120"
                               promptText="Beløb (kr.)"/>

                    <Button text="Tilføj"
                            onAction="#addExpense"
                            style="-fx-background-color: #F49338;"/>

                    <Button text="Fjern valgt"
                            onAction="#removeSelectedExpense"
                            style="-fx-background-color: #F49338;"/>
                </HBox>

                <ListView fx:id="expensesList" prefHeight="120"/>
            </VBox>

            <!-- Resultat -->
            <VBox spacing="8" style="-fx-background-color: #f2f2f7; -fx-background-radius: 16;">
                <padding>
                    <Insets top="14" right="14" bottom="14" left="14"/>
                </padding>

                <Label text="Resultat">
                    <font>
                        <Font name="Calibri Bold" size="14"/>
                    </font>
                </Label>

                <HBox spacing="10">
                    <Label text="Faste udgifter i alt:"/>
                    <Label fx:id="totalFixedLabel" text="0.00 kr"/>
                </HBox>

                <HBox spacing="10">
                    <Label text="Rådighedsbeløb:"/>
                    <Label fx:id="disposableLabel" text="-"/>
                </HBox>

                <HBox spacing="10">
                    <Label text="Dagligdags-budget:" style="-fx-font-weight: bold;"/>
                    <Label fx:id="dailyBudgetLabel" text="-" style="-fx-font-weight: bold;"/>
                </HBox>

                <!-- Beregn + Gem -->
                <HBox spacing="10">
                    <Button text="Beregn budget"
                            onAction="#calculateBudget"
                            prefWidth="140"
                            style="-fx-background-color: #F49338; -fx-text-fill: white;">
                        <font>
                            <Font name="Calibri Bold" size="14"/>
                        </font>
                    </Button>

                    <Button text="Gem budget"
                            onAction="#saveBudget"
                            prefWidth="140"
                            style="-fx-background-color: #4CAF50; -fx-text-fill: white;">
                        <font>
                            <Font name="Calibri Bold" size="14"/>
                        </font>
                    </Button>
                </HBox>
            </VBox>

            <!-- Navigation -->
            <HBox spacing="10">
                <Button fx:id="backButton"
                        text="Back"
                        onAction="#backButtonOnAction"
                        prefWidth="100">
                    <font>
                        <Font name="Calibri Bold" size="18"/>
                    </font>
                </Button>

                <Region HBox.hgrow="ALWAYS"/>

                <Button text="Mine budgetter"
                        onAction="#openBudgetHistory"
                        prefWidth="160"
                        style="-fx-background-color: #F49338; -fx-text-fill: white;">
                    <font>
                        <Font name="Calibri Bold" size="16"/>
                    </font>
                </Button>
            </HBox>

        </VBox>
    </children>
</AnchorPane>
